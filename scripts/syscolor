#!/bin/bash
# syscolor: Define a Bash function to give the color in human-readable terms.
# Why function rather than a script? Keep evaluation in-process.
# Why "syscolor"? Should use for Bash, screen, and whatever else.
# Why multiple definition of the function? So that it's evaluated when the function
#  is loaded, rather than at every invocation. We can probably do better.


case "$OSTYPE" in
  darwin*)
    syscolor() { echo 'purple'; }
    ;;
  linux*|*)
    if curl -s -f -H 'Metadata-Flavor: Google' \
      http://metadata.google.internal/computeMetadata/v1/instance/hostname \
      >/dev/null 
    then
      syscolor() { echo 'blue'; }
    else
      syscolor() { echo 'green'; }
    fi
    ;;
esac
